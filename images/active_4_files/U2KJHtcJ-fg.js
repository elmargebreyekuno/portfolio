;/*FB_PKG_DELIM*/

__d("IGDMessageButton.react",["IGDSIconButton.react","IGDSTooltip.react","PolarisIGCorePressable.react","PolarisUA","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState,k={button:{opacity:"x15vok9n",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0},buttonWithHover:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xxk0z11",opacity:"x1hc1fzr",width:"xvy4d1p",":hover_backgroundColor":"x15vn3sj",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(20),e,f,g;b[0]!==a?(e=a.label,g=a.xstyle,f=babelHelpers.objectWithoutPropertiesLoose(a,["label","xstyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);a=j(!1);var h=a[0],m=a[1];b[4]!==g?(a=[k.button,k.buttonWithHover,g],b[4]=g,b[5]=a):a=b[5];b[6]!==f||b[7]!==a?(g=i.jsx(c("IGDSIconButton.react"),babelHelpers["extends"]({},f,{xstyle:a})),b[6]=f,b[7]=a,b[8]=g):g=b[8];f=g;a=c("useCurrentDisplayMode")();g=a==="dark";a=g?"primary":"black";b[9]!==h?(g=d("PolarisUA").isMobile()?!1:h,b[9]=h,b[10]=g):g=b[10];var n;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){m(!0)},n=function(){m(!1)},b[11]=h,b[12]=n):(h=b[11],n=b[12]);b[13]!==f?(h=i.jsx(c("PolarisIGCorePressable.react"),{onMouseEnter:h,onMouseLeave:n,onPress:l,children:f}),b[13]=f,b[14]=h):h=b[14];b[15]!==e||b[16]!==a||b[17]!==g||b[18]!==h?(n=i.jsx(c("IGDSTooltip.react"),{align:"middle",color:a,isVisible:g,position:"above",tooltip:e,children:h}),b[15]=e,b[16]=a,b[17]=g,b[18]=h,b[19]=n):n=b[19];return n}function l(){}g["default"]=a}),98);
__d("IGDMessageMoreContextMenuButton.react",["fbt","IGDMessageButton.react","IGDSLazyPopoverTrigger.react","IGDSMoreVerticalPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","MessengerWebUXLogger","getInstamadilloLoggingExtraData","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("requireDeferred")("IGDMessageContextMenu.react").__setRef("IGDMessageMoreContextMenuButton.react");function a(a){var b=d("react-compiler-runtime").c(16),e=a.message,f=a.outgoing,g=a.thread;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"__JHASH__nNxAei6AI9v__JHASH__"),b[0]=a):a=b[0];var i=a,l=c("MessengerWebUXLogger").useInteractionLogger(),m=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),n;b[1]!==m||b[2]!==l||b[3]!==e.messageId||b[4]!==g?(a=function(a){l==null?void 0:l({eventName:"open_message_options",extraData:babelHelpers["extends"]({},c("getInstamadilloLoggingExtraData")(g),{message_id:e.messageId}),flowInstanceId:m}),a()},n=[l,g,e.messageId,m],b[1]=m,b[2]=l,b[3]=e.messageId,b[4]=g,b[5]=a,b[6]=n):(a=b[5],n=b[6]);var o=d("Int64Hooks").useCallbackInt64(a,n);a=f?"end":"start";b[7]!==e||b[8]!==g?(n={message:e,thread:g},b[7]=e,b[8]=g,b[9]=n):n=b[9];b[10]!==o?(f=function(a,b){return j.jsx(c("IGDMessageButton.react"),{innerRef:a,label:i,onClick:function(){return o(b)},children:j.jsx(c("IGDSMoreVerticalPanoOutline24Icon.react"),{alt:i,color:"ig-primary-text","data-testid":void 0,size:16})})},b[10]=o,b[11]=f):f=b[11];var p;b[12]!==a||b[13]!==n||b[14]!==f?(p=j.jsx(c("IGDSLazyPopoverTrigger.react"),{align:a,popoverProps:n,popoverResource:k,popoverType:"menu",position:"above",children:f}),b[12]=a,b[13]=n,b[14]=f,b[15]=p):p=b[15];return p}g["default"]=a}),226);
__d("IGDSThumbDownPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M10.47 23a2 2 0 0 1-1.68-.91c-.783-1.201-2.55-4.045-3.84-6.121a242.263 242.263 0 0 0-1.429-2.29c-1.493-2.29-1.888-4.62-1.173-6.927C3.398 3.365 6.715 1 10.414 1h6.442a4.02 4.02 0 0 1 3.96 3.435l1.141 6.98A4.002 4.002 0 0 1 17.999 16h-5.093l.727 2.087a3.693 3.693 0 0 1-.264 3.063 3.697 3.697 0 0 1-2.496 1.809c-.135.027-.27.04-.403.04Zm-.005-2.003.015.002a1.701 1.701 0 0 0 1.267-2.244l-1.191-3.427A.998.998 0 0 1 11.5 14h6.499a2.001 2.001 0 0 0 1.98-2.283l-1.14-6.98A2.014 2.014 0 0 0 16.856 3h-6.442C7.582 3 5.051 4.786 4.258 7.344c-.537 1.735-.23 3.45.94 5.242.143.22.718 1.146 1.451 2.327 1.285 2.068 3.044 4.901 3.816 6.084Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("LSSubmitGenAIBotFeedback",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("bot_feedback_kind",a[0]),d[0].set("bot_response_id",a[2]),d[0].set("feedback_kind_type",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"submit_gen_ai_bot_feedback",c.i64.cast([0,756]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(b){return c.db.table(315).fetch([[[a[2]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[2]=c.i64.cast([0,0]):(b=a.item,d[2]=b.feedbackSubmissionStatus)})},function(b){return c.i64.eq(d[2],c.i64.cast([0,0]))?c.db.table(315).add({botResponseId:a[2],feedbackSubmissionStatus:c.i64.cast([0,1]),feedbackKindType:a[0]}):c.forEach(c.db.table(315).fetch([[[a[2]]]]),function(b){var d=b.update;b.item;return d({feedbackSubmissionStatus:c.i64.cast([0,1]),feedbackKindType:a[0]})})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxSubmitGenAIBotFeedbackStoredProcedure";a.__tables__=["ai_bot_feedback_submission_status"];e.exports=a}),null);
__d("LSSubmitGenAIBotFeedbackStoredProcedure",["LSSubmitGenAIBotFeedback","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSubmitGenAIBotFeedback"),e.botFeedbackKind,e.feedbackKindType,e.botResponseId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("useMWV2SubmitFeedbackAction",["LSFactory","LSIntEnum","LSSubmitGenAIBotFeedbackStoredProcedure","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback;function a(a,b){var e=(h||(h=c("useReStore")))();return k(function(g){c("promiseDone")(e.runInTransaction(function(b){return c("LSSubmitGenAIBotFeedbackStoredProcedure")(c("LSFactory")(b),{botFeedbackKind:(i||(i=d("LSIntEnum"))).ofNumber(g),botResponseId:a||"",feedbackKindType:i.ofNumber(g)})},"readwrite",void 0,void 0,f.id+":30"),b)},[e,a,b])}g["default"]=a}),98);
__d("IGDMessageNegativeFeedbackButton.react",["fbt","IGDMessageButton.react","IGDSDialogPlaceholder.react","IGDSThumbDownPanoOutline24Icon.react","JSResourceForInteraction","emptyFunction","react","react-compiler-runtime","useIGDSLazyDialog","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(11),e=a.message,f=c("useIGDSToaster")();b[0]!==f?(a=function(){f.add({message:h._(/*BTDS*/"__JHASH__szyqZwWEpgN__JHASH__"),target:"bottom-left"})},b[0]=f,b[1]=a):a=b[1];a=a;var g=c("useMWV2SubmitFeedbackAction")(e.botResponseId,a);b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("MWV2SubmitNegativeFeedbackDialog.react").__setRef("IGDMessageNegativeFeedbackButton.react"),b[2]=a):a=b[2];a=c("useIGDSLazyDialog")(a,k);var i=a[0];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"__JHASH__7ndOyL_QgDy__JHASH__"),b[3]=a):a=b[3];a=a;var l;b[4]!==e||b[5]!==g||b[6]!==i?(l=function(){i({message:e,onSubmit:g},c("emptyFunction"))},b[4]=e,b[5]=g,b[6]=i,b[7]=l):l=b[7];l=l;var m;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(m=j.jsx(c("IGDSThumbDownPanoOutline24Icon.react"),{alt:a,color:"ig-primary-text",size:16}),b[8]=m):m=b[8];b[9]!==l?(a=j.jsx(c("IGDMessageButton.react"),{"data-testid":void 0,label:a,onClick:l,children:m}),b[9]=l,b[10]=a):a=b[10];return a}function k(a){return j.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDSThumbUpPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M16.856 23h-6.442c-3.7 0-7.017-2.365-8.066-5.752-.715-2.308-.32-4.638 1.173-6.928.142-.216.708-1.127 1.43-2.289 1.29-2.076 3.056-4.92 3.838-6.12a1.997 1.997 0 0 1 2.084-.871 3.703 3.703 0 0 1 2.757 4.883L12.906 8H18a4.002 4.002 0 0 1 3.961 4.566l-1.147 7.019C20.537 21.523 18.834 23 16.856 23ZM10.473 3c-.006 0-.008.002-.008.004-.772 1.182-2.531 4.015-3.816 6.083a266.26 266.26 0 0 1-1.452 2.326c-1.17 1.793-1.476 3.508-.94 5.243C5.052 19.214 7.583 21 10.415 21h6.442c.99 0 1.84-.738 1.98-1.718l1.146-7.018A2.001 2.001 0 0 0 18 10h-6.5a.998.998 0 0 1-.944-1.328l1.188-3.416A1.701 1.701 0 0 0 10.48 3h-.007Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDMessagePositiveFeedbackButton.react",["fbt","BotFeedbackKind","IGDMessageButton.react","IGDSThumbUpPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","react-compiler-runtime","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(15);a=a.message;var e=c("useIGDSToaster")(),f;b[0]!==e?(f=function(){e.add({message:h._(/*BTDS*/"__JHASH__szyqZwWEpgN__JHASH__"),target:"bottom-left"})},b[0]=e,b[1]=f):f=b[1];f=f;var g=c("useMWV2SubmitFeedbackAction")(a.botResponseId,f);f=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();a=(a=a.botResponseId)!=null?a:"";var i;b[2]!==a?(i={botResponseId:a},b[2]=a,b[3]=i):i=b[3];b[4]!==f||b[5]!==i?(a={extraData:i,flowInstanceId:f},b[4]=f,b[5]=i,b[6]=a):a=b[6];f=a;var k=f,l=c("MessengerWebUXLogger").useInteractionLogger();b[7]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"__JHASH__FtoE8geHXMB__JHASH__"),b[7]=i):i=b[7];a=i;b[8]!==k||b[9]!==l||b[10]!==g?(f=function(){g(c("BotFeedbackKind").BOT_FEEDBACK_POSITIVE),l==null?void 0:l(babelHelpers["extends"]({eventName:"submit_positive_feedback"},k))},b[8]=k,b[9]=l,b[10]=g,b[11]=f):f=b[11];i=f;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDSThumbUpPanoOutline24Icon.react"),{alt:a,color:"ig-primary-text",size:16}),b[12]=f):f=b[12];b[13]!==i?(a=j.jsx(c("IGDMessageButton.react"),{"data-testid":void 0,label:a,onClick:i,children:f}),b[13]=i,b[14]=a):a=b[14];return a}g["default"]=a}),226);
__d("MWV2MessageReactionHooks",["EmojiRenderer","I64","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?"":b[0].join("")}).filter(function(a){return a!==""})}function a(a,b){var e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),h=d("ReQLSuspense").useFirst(function(){return b&&a!=null?d("ReQL").fromTableAscending(e.tables.reactions).getKeyRange(b,a,g):d("ReQL").empty()},[g,e,a,b],f.id+":38");if(h!=null)return h}function b(a,b){var e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return b&&a!=null?d("ReQL").fromTableAscending(e.tables.reactions_v2).getKeyRange(b,a).filter(function(a){return a.viewerIsReactor&&(h||(h=d("I64"))).gt(a.count,(h||(h=d("I64"))).zero)}).map(function(a){a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.reaction_v2_types).getKeyRange(a.reactionFbid),f.id+":70");return[a==null?void 0:a.reactionLiteral,a==null?void 0:a.reactionLiteralVariant16].filter(Boolean)}):d("ReQL").empty()},[e,b,a],f.id+":60").flat();g=j(g);return g}function e(a,b){var e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return b&&a!=null?d("ReQL").fromTableAscending(e.tables.reactions_v2).getKeyRange(b,a).filter(function(a){return a.viewerIsReactor}):d("ReQL").empty()},[e,a,b],f.id+":94");return d("ReQLSuspense").useFirst(function(){return g?d("ReQL").fromTableAscending(e.tables.reaction_v2_types).getKeyRange(g.reactionFbid).map(function(a){return a.reactionLiteral}):d("ReQL").empty()},[e,g],f.id+":104")}a={useSelectedReaction:a,useSelectedReactionsV2:b,useSelectedReactionV2:e};g.MWV2MessageReactionHooks=a}),98);
__d("IGDMessageReactionButton.react",["fbt","EmojiFormat.bs","IGDMessageButton.react","IGDSFace2OutlineIcon.react","IGDSLazyPopoverTrigger.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","MWLSThread","MWV2MessageReactionHooks","MessengerWebUXLogger","UnicodeUtils","asyncToGeneratorRuntime","emptyFunction","getInstamadilloLoggingExtraData","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore","useIGDGlobalReactMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));i.useCallback;var l=c("requireDeferred")("IGDComposerEmojiPickerPopover.react").__setRef("IGDMessageReactionButton.react");function a(a){var e=d("react-compiler-runtime").c(23),f=a.message,g=a.outgoing,i=a.setReactionsMenuOpen,m=(a=d("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReaction(f.messageId,f.threadKey))==null?void 0:a.reaction,n=c("useIGDGlobalReactMessage")(f,"reaction_tray");e[0]!==m||e[1]!==n?(a=function(a){var b=d("EmojiFormat.bs").codeArrayToUnicode(a);if(m!=null){var e=(j||(j=d("UnicodeUtils"))).getCodePoints(m);b===m&&(b=void 0);e[0]===10084&&a[0]===10084&&(b=void 0)}c("promiseDone")(n(b,"reaction"))},e[0]=m,e[1]=n,e[2]=a):a=e[2];a=a;g=g?"end":"start";var o;e[3]!==f.threadKey||e[4]!==a?(o={closeAfterSelect:!0,onClose:c("emptyFunction"),onSelect:a,showPopoverArrow:!1,threadKey:f.threadKey},e[3]=f.threadKey,e[4]=a,e[5]=o):o=e[5];a=o;e[6]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"__JHASH__lHWykrNu5cj__JHASH__"),e[6]=o):o=e[6];var p=o,q=c("MessengerWebUXLogger").useInteractionLogger(),r=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),s=c("useAsyncReStore")(),t;e[7]!==s||e[8]!==r||e[9]!==q||e[10]!==f.messageId||e[11]!==f.threadKey?(o=function(a){c("promiseDone")(s.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("MWLSThread").getThreadAsync(a,f.threadKey));a&&(q==null?void 0:q({eventName:"reaction_open_emoji_picker",extraData:babelHelpers["extends"]({},c("getInstamadilloLoggingExtraData")(a),{message_id:f.messageId}),flowInstanceId:r}))});return function(b){return a.apply(this,arguments)}}())),a()},t=[s,f.threadKey,f.messageId,q,r],e[7]=s,e[8]=r,e[9]=q,e[10]=f.messageId,e[11]=f.threadKey,e[12]=o,e[13]=t):(o=e[12],t=e[13]);var u=d("Int64Hooks").useCallbackInt64(o,t);e[14]!==i?(o=function(a){return i(function(){return a})},e[14]=i,e[15]=o):o=e[15];e[16]!==u?(t=function(a,b){return k.jsx(c("IGDMessageButton.react"),{innerRef:a,label:p,onClick:function(){return u(b)},children:k.jsx(c("IGDSFace2OutlineIcon.react"),{alt:p,color:"ig-primary-text","data-testid":void 0,size:16})})},e[16]=u,e[17]=t):t=e[17];var v;e[18]!==g||e[19]!==a||e[20]!==o||e[21]!==t?(v=k.jsx(c("IGDSLazyPopoverTrigger.react"),{align:g,onVisibilityChange:o,popoverProps:a,popoverResource:l,popoverType:"dialog",position:"above",children:t}),e[18]=g,e[19]=a,e[20]=o,e[21]=t,e[22]=v):v=e[22];return v}g["default"]=a}),226);
__d("IGDSReplyPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M14 8.999H4.413l5.294-5.292a1 1 0 1 0-1.414-1.414l-7 6.998c-.014.014-.019.033-.032.048A.933.933 0 0 0 1 9.998V10c0 .027.013.05.015.076a.907.907 0 0 0 .282.634l6.996 6.998a1 1 0 0 0 1.414-1.414L4.415 11H14a7.008 7.008 0 0 1 7 7v3.006a1 1 0 0 0 2 0V18a9.01 9.01 0 0 0-9-9Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("useIGDMessageReply.react",["fbt","IGDThreadListNewMessageLoggingDataContext","MWMediaManager","MWPReplyContext.react","MessengerWebUXLogger","getInstamadilloLoggingExtraData","react","react-compiler-runtime","useIGDMediaMangerUploadFailedToast"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).useContext;function a(a,b,e){var f=d("react-compiler-runtime").c(18),g=j(d("MWPReplyContext.react").MWPReplyContext),i=g.setReply;g=c("useIGDMediaMangerUploadFailedToast")();var k;f[0]!==g||f[1]!==b?(k={showUploadFailureToast:g,thread:b},f[0]=g,f[1]=b,f[2]=k):k=f[2];g=d("MWMediaManager").useMediaManager(k);var l=g.resetAttachments,m=c("MessengerWebUXLogger").useInteractionLogger(),n=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();f[3]!==n||f[4]!==m||f[5]!==a.messageId||f[6]!==a.offlineThreadingId||f[7]!==a.sendStatusV2||f[8]!==a.threadKey||f[9]!==a.timestampMs||f[10]!==e||f[11]!==l||f[12]!==i||f[13]!==b?(k=function(d){m==null?void 0:m({eventName:"message_reply",extraData:c("getInstamadilloLoggingExtraData")(b),flowInstanceId:n}),i({messageId:a.messageId,offlineThreadingId:a.offlineThreadingId,sendStatusV2:a.sendStatusV2,threadKey:a.threadKey,timestampMs:a.timestampMs},a.threadKey),l(),e==null?void 0:e()},f[3]=n,f[4]=m,f[5]=a.messageId,f[6]=a.offlineThreadingId,f[7]=a.sendStatusV2,f[8]=a.threadKey,f[9]=a.timestampMs,f[10]=e,f[11]=l,f[12]=i,f[13]=b,f[14]=k):k=f[14];g=k;f[15]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"__JHASH__L3od8hyUAW0__JHASH__"),f[15]=k):k=f[15];k=k;f[16]!==g?(k=[g,k],f[16]=g,f[17]=k):k=f[17];return k}g["default"]=a}),226);
__d("IGDMessageReplyButton.react",["IGDInstamadilloUtils","IGDMessageButton.react","IGDSReplyPanoOutline24Icon.react","react","react-compiler-runtime","useIGDMessageReply.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e=a.message,f=a.onClose;a=a.thread;f=c("useIGDMessageReply.react")(e,a,f);var g=f[0];f=f[1];a=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a);if(!d("IGDInstamadilloUtils").shouldRenderMessageReply(e,a))return null;b[0]!==f?(e=i.jsx(c("IGDSReplyPanoOutline24Icon.react"),{alt:f,color:"ig-primary-text","data-testid":void 0,size:16}),b[0]=f,b[1]=e):e=b[1];b[2]!==g||b[3]!==f||b[4]!==e?(a=i.jsx(c("IGDMessageButton.react"),{label:f,onClick:g,children:e}),b[2]=g,b[3]=f,b[4]=e,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("LSMailboxAIBotFeedbackSubmissionStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SUBMITTED:1});f["default"]=a}),66);
__d("useGenAIFeedbackSubmissionStatus",["I64","LSIntEnum","LSMailboxAIBotFeedbackSubmissionStatus","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){var e;return d("ReQL").fromTableDescending(b.tables.ai_bot_feedback_submission_status).getKeyRange((e=a)!=null?e:"").filter(function(a){return(h||(h=d("I64"))).equal(a.feedbackSubmissionStatus,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxAIBotFeedbackSubmissionStatus").SUBMITTED))}).map(function(a){return a.feedbackSubmissionStatus})},[b,a],f.id+":25");return e}g["default"]=a}),98);
__d("useIGDIsGenAiReelsPlugin",["I64","LSIntEnum","MNLSXMALayoutType","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=d("react-compiler-runtime").c(10),e=(j||(j=c("useReStore")))(),g;b[0]!==e.tables.attachments||b[1]!==a.messageId||b[2]!==a.threadKey?(g=function(){return d("ReQL").fromTableDescending(e.tables.attachments).getKeyRange(a.threadKey,a.messageId)},b[0]=e.tables.attachments,b[1]=a.messageId,b[2]=a.threadKey,b[3]=g):g=b[3];var k;b[4]!==e||b[5]!==a?(k=[e,a],b[4]=e,b[5]=a,b[6]=k):k=b[6];g=d("ReQLSuspense").useFirst(g,k,f.id+":24");if(a.botResponseId==null||g==null)return!1;b[7]!==g.hasXma||b[8]!==g.xmaLayoutType?(k=g.hasXma&&g.xmaLayoutType!=null&&(h||(h=d("I64"))).equal(g.xmaLayoutType,(i||(i=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").PORTRAIT)),b[7]=g.hasXma,b[8]=g.xmaLayoutType,b[9]=k):k=b[9];return k}g["default"]=a}),98);
__d("useIGDMessageAttachment",["ReQL","ReQLSuspense","mwpMessageHasAttachment","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var g=d("react-compiler-runtime").c(11),h;g[0]!==b?(h=c("mwpMessageHasAttachment")(b),g[0]=b,g[1]=h):h=g[1];var i=h,j;g[2]!==a.tables.attachments||g[3]!==i||g[4]!==b.messageId||g[5]!==e?(h=function(){return i?d("ReQL").fromTableAscending(a.tables.attachments,["attachmentType","isSharable","stickerType"]).getKeyRange(e,b.messageId):d("ReQL").empty()},j=[i,a.tables.attachments,e,b.messageId],g[2]=a.tables.attachments,g[3]=i,g[4]=b.messageId,g[5]=e,g[6]=h,g[7]=j):(h=g[6],j=g[7]);h=d("ReQLSuspense").useArray(h,j,f.id+":37");j=h[0];h=h.length>1;var k;g[8]!==j||g[9]!==h?(k={attachment:j,hasMultipleAttachments:h},g[8]=j,g[9]=h,g[10]=k):k=g[10];return k}g["default"]=a}),98);
__d("useIsGenAiFeedbackEnabled",["I64","LSContactTypeExact","LSIntEnum","MWPContactContext.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){var e=d("MWPContactContext.react").useMWPContactStableContext();e=e.contact;if(a==null)return!1;return!b?!1:e!=null&&(h||(h=d("I64"))).equal(e.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT))}g["default"]=a}),98);
__d("isDeliveryStatusErrorState",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.type==="Error"||a.type==="RetriableError"}f["default"]=a}),66);
__d("useMWPCanRemoveMessageGlobally",["I64","LSIntEnum","LSMessageThreadUnsendabilityStatus","MWMessageDeliveryStatus","MWPThreadCapabilitiesContext","isDeliveryStatusErrorState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();b=b.canUnsendMessage;if(c("isDeliveryStatusErrorState")(d("MWMessageDeliveryStatus").getFromSendStatus(a.sendStatusV2)))return!1;a=a.cannotUnsendReason!=null?(h||(h=d("I64"))).equal(a.cannotUnsendReason,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").CAN_UNSEND)):!0;return b&&a}g["default"]=a}),98);
__d("useShowPersistentGenAIFeedbackButtons",["ReQL","ReQLSuspense","useGenAIFeedbackSubmissionStatus","useIsGenAiFeedbackEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var g=(h||(h=c("useReStore")))();e=c("useIsGenAiFeedbackEnabled")(b,e);var i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(g.tables.messages.index("threadKeyPrimarySortKeySecondarySortKeyBotResponseId"),["botResponseId"]).getKeyRange(a)},[g,a],f.id+":43"),j=c("useGenAIFeedbackSubmissionStatus")(b);return e&&(i==null?void 0:i.botResponseId)===b&&j==null}g["default"]=a}),98);
__d("IGDMessageRowActions.react",["I64","IGDInstamadilloUtils","IGDMessageMoreContextMenuButton.react","IGDMessageReactionButton.react","IGDMessageReplyButton.react","LSBitFlag","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWEditMessageContext.react","MWPActor.react","MWPBaseMessageListRowActions.react","MessagingAttachmentType","PolarisUA","ReQL","ReQLSuspense","cr:3505","cr:3552","cr:7090","gkx","react","react-compiler-runtime","useGenAIFeedbackSubmissionStatus","useIGDIsGenAiReelsPlugin","useIGDMessageAttachment","useIsGenAiFeedbackEnabled","useIsReadOnlyFeatureLimited","useIsThreadBlocked","useMWPCanRemoveMessageGlobally","useReStore","useShowPersistentGenAIFeedbackButtons"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.useContext,n=e.useState,o=c("gkx")("4253")===!0,p=[(k||(k=d("LSIntEnum"))).ofNumber(1),k.ofNumber(16384),k.ofNumber(2),k.ofNumber(4)];function q(a){var e=d("react-compiler-runtime").c(89),g=a.message,i=a.outgoing,m=a.setReactionsMenuOpen;a=a.thread;var n=(h||(h=c("useReStore")))(),q=d("MWPActor.react").useActor(),r=c("useIsThreadBlocked")(),s=c("useIsReadOnlyFeatureLimited")(),t=a.threadKey,u=a.threadType,v=g.displayedContentTypes,w=g.senderId,x;e[0]!==n.tables.contacts||e[1]!==w?(x=function(){return d("ReQL").fromTableAscending(n.tables.contacts,["blockedByViewerStatus","capabilities","capabilities2"]).getKeyRange(w)},e[0]=n.tables.contacts,e[1]=w,e[2]=x):x=e[2];var y;e[3]!==n||e[4]!==w?(y=[n,w],e[3]=n,e[4]=w,e[5]=y):y=e[5];x=d("ReQLSuspense").useFirst(x,y,f.id+":98");y=c("useIGDMessageAttachment")(n,g,t);t=y.attachment;y=y.hasMultipleAttachments;var z;e[6]!==q||e[7]!==w?(z=(j||(j=d("I64"))).equal(w,q),e[6]=q,e[7]=w,e[8]=z):z=e[8];q=z;z=!q&&d("LSMessagingThreadTypeUtil").isOneToOne(u)&&x!=null?!(j||(j=d("I64"))).equal(x.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1;e[9]!==x?(u=x!=null&&d("LSContactBitOffset").has(66,x),e[9]=x,e[10]=u):u=e[10];u=u;var A;e[11]!==x?(A=x!=null&&d("LSContactBitOffset").has(18,x),e[11]=x,e[12]=A):A=e[12];x=A;e[13]!==a?(A=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(a),e[13]=a,e[14]=A):A=e[14];A=A;var B;e[15]!==v||e[16]!==q||e[17]!==x?(B=x&&!q&&p.findIndex(function(a){return(j||(j=d("I64"))).equal(v,a)})!==-1,e[15]=v,e[16]=q,e[17]=x,e[18]=B):B=e[18];x=B;e[19]!==t?(B=t!=null&&((j||(j=d("I64"))).equal(t.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(j||(j=d("I64"))).equal(t.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))),e[19]=t,e[20]=B):B=e[20];B=B;var C;e[21]!==t?(C=t!=null&&(j||(j=d("I64"))).equal(t.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)),e[21]=t,e[22]=C):C=e[22];C=C;var D;e[23]!==t?(D=t!=null&&(j||(j=d("I64"))).equal(t.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)),e[23]=t,e[24]=D):D=e[24];D=D;var E;e[25]!==v||e[26]!==B?(E=(j||(j=d("I64"))).equal(v,d("LSBitFlag").empty)&&!B,e[25]=v,e[26]=B,e[27]=E):E=e[27];E=E;q=c("useMWPCanRemoveMessageGlobally")(g)&&q;var F;e[28]!==t?(F=t!=null&&(j||(j=d("I64"))).equal(t.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?t.isSharable:!0,e[28]=t,e[29]=F):F=e[29];t=F;F=g.replySourceTypeV2!=null&&(k||(k=d("LSIntEnum"))).toNumber(g.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;var G;e[30]!==v?(G=(j||(j=d("I64"))).equal(v,(k||(k=d("LSIntEnum"))).ofNumber(1))||(j||(j=d("I64"))).equal(v,(k||(k=d("LSIntEnum"))).ofNumber(1033)),e[30]=v,e[31]=G):G=e[31];G=G;G=G||F&&!!g.text;e[32]!==y||e[33]!==D||e[34]!==C||e[35]!==r||e[36]!==B||e[37]!==A||e[38]!==E||e[39]!==z||e[40]!==s||e[41]!==u||e[42]!==t||e[43]!==g.displayedContentTypes||e[44]!==g.isUnsent||e[45]!==a?(F=!r&&!u&&!A&&!s&&!g.isUnsent&&!E&&d("LSThreadBitOffset").has(103,a)&&t&&!z&&!(j||(j=d("I64"))).equal(g.displayedContentTypes,(k||(k=d("LSIntEnum"))).ofNumber(256))&&!B&&!C&&!D&&!y,e[32]=y,e[33]=D,e[34]=C,e[35]=r,e[36]=B,e[37]=A,e[38]=E,e[39]=z,e[40]=s,e[41]=u,e[42]=t,e[43]=g.displayedContentTypes,e[44]=g.isUnsent,e[45]=a,e[46]=F):F=e[46];y=F;D=c("useIsGenAiFeedbackEnabled")(g.botResponseId,o);C=c("useGenAIFeedbackSubmissionStatus")(g.botResponseId);B=D&&C==null;e[47]!==B?(z=!d("PolarisUA").isMobile()&&B,e[47]=B,e[48]=z):z=e[48];t=z;e[49]!==g||e[50]!==t?(F=t&&b("cr:3552")?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:l.jsx(b("cr:3552"),{message:g})}):null,e[49]=g,e[50]=t,e[51]=F):F=e[51];D=F;e[52]!==g||e[53]!==t?(C=t&&b("cr:3505")?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:l.jsx(b("cr:3505"),{message:g})}):null,e[52]=g,e[53]=t,e[54]=C):C=e[54];B=C;e[55]!==r||e[56]!==A||e[57]!==E||e[58]!==s||e[59]!==u||e[60]!==g.isUnsent||e[61]!==t||e[62]!==a?(z=!r&&!u&&!A&&!s&&d("LSThreadBitOffset").has(42,a)&&!g.isUnsent&&!E&&!t,e[55]=r,e[56]=A,e[57]=E,e[58]=s,e[59]=u,e[60]=g.isUnsent,e[61]=t,e[62]=a,e[63]=z):z=e[63];F=z;e[64]!==a?(C=d("LSThreadBitOffset").has(18,a),e[64]=a,e[65]=C):C=e[65];z=C;C=d("LSThreadBitOffset").has(139,a);var H;e[66]!==a?(H=d("LSThreadBitOffset").has(169,a),e[66]=a,e[67]=H):H=e[67];H=H;r=!r&&!u&&!A&&!s&&!g.isUnsent&&!E&&(C?H:z)&&!t;u=c("gkx")("24015");A=u||!E&&(y||q||G||x);e[68]!==r||e[69]!==g||e[70]!==i||e[71]!==m?(s=r?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:b("cr:7090")?l.jsx(b("cr:7090"),{message:g,setReactionsMenuOpen:m}):l.jsx(c("IGDMessageReactionButton.react"),{message:g,outgoing:i,setReactionsMenuOpen:m})}):null,e[68]=r,e[69]=g,e[70]=i,e[71]=m,e[72]=s):s=e[72];C=s;e[73]!==F||e[74]!==g||e[75]!==a?(H=F?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("IGDMessageReplyButton.react"),{message:g,thread:a})}):null,e[73]=F,e[74]=g,e[75]=a,e[76]=H):H=e[76];z=H;e[77]!==g||e[78]!==i||e[79]!==A||e[80]!==a?(t=A?l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:l.jsx(c("IGDMessageMoreContextMenuButton.react"),{message:g,outgoing:i,thread:a})}):null,e[77]=g,e[78]=i,e[79]=A,e[80]=a,e[81]=t):t=e[81];u=t;e[82]!==u||e[83]!==B||e[84]!==i||e[85]!==D||e[86]!==C||e[87]!==z?(E=l.jsxs(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsList,{outgoing:i,children:[D,B,C,z,u]}),e[82]=u,e[83]=B,e[84]=i,e[85]=D,e[86]=C,e[87]=z,e[88]=E):E=e[88];return E}function r(a){var b=d("react-compiler-runtime").c(15),e=a.ariaHidden,f=a.focused,g=a.hidden,h=a.hovered,i=a.message,j=a.outgoing;a=a.thread;e=e===void 0?!1:e;g=g===void 0?!1:g;var k=n(!1),o=k[0];k=k[1];var p=c("useIsGenAiFeedbackEnabled")(i.botResponseId,c("gkx")("4253")===!0),r=c("useGenAIFeedbackSubmissionStatus")(i.botResponseId),s=c("useIGDIsGenAiReelsPlugin")(i),t=c("useShowPersistentGenAIFeedbackButtons")(i.threadKey,i.botResponseId,c("gkx")("4253")===!0),u;b[0]!==r||b[1]!==p||b[2]!==s||b[3]!==t?(u=s?!1:d("PolarisUA").isMobile()?p&&r==null:t,b[0]=r,b[1]=p,b[2]=s,b[3]=t,b[4]=u):u=b[4];r=u;p=h||f||o;s=m(d("MAWEditMessageContext.react").Context);t=s.editMessageData;u=t!=null;h=!g&&(p||r)&&!u;f=p===!0?"full":"partial";b[5]!==i||b[6]!==j||b[7]!==h||b[8]!==a?(o=h?l.jsx(q,{message:i,outgoing:j,setReactionsMenuOpen:k,thread:a}):null,b[5]=i,b[6]=j,b[7]=h,b[8]=a,b[9]=o):o=b[9];b[10]!==e||b[11]!==j||b[12]!==f||b[13]!==o?(s=l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsContainer,{ariaHidden:e,outgoing:j,visibility:f,children:o}),b[10]=e,b[11]=j,b[12]=f,b[13]=o,b[14]=s):s=b[14];return s}function a(a){var b=d("react-compiler-runtime").c(17),e=a.ariaHidden,g=a.focused,i=a.hidden,j=a.hovered,k=a.message;a=a.outgoing;e=e===void 0?!1:e;i=i===void 0?!1:i;var m=(h||(h=c("useReStore")))(),n;b[0]!==m.tables.threads||b[1]!==k.threadKey?(n=function(){return d("ReQL").fromTableAscending(m.tables.threads,["parentThreadKey","threadKey","threadSubtype","cannotUnsendReason","consistentThreadFbid","threadType"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(k.threadKey)},b[0]=m.tables.threads,b[1]=k.threadKey,b[2]=n):n=b[2];var o;b[3]!==m||b[4]!==k.threadKey?(o=[m,k.threadKey],b[3]=m,b[4]=k.threadKey,b[5]=o):o=b[5];n=d("ReQLSuspense").useFirst(n,o,f.id+":434");b[6]!==k?(o=d("IGDInstamadilloUtils").canMutateIGDMessage(k),b[6]=k,b[7]=o):o=b[7];o=o;var p;b[8]!==e||b[9]!==o||b[10]!==g||b[11]!==i||b[12]!==j||b[13]!==k||b[14]!==a||b[15]!==n?(p=n!=null&&o?l.jsx(r,{ariaHidden:e,focused:g,hidden:i,hovered:j,message:k,outgoing:a,thread:n}):null,b[8]=e,b[9]=o,b[10]=g,b[11]=i,b[12]=j,b[13]=k,b[14]=a,b[15]=n,b[16]=p):p=b[16];return p}g["default"]=a}),98);